<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Healing Agent – Over the Rainbow</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="assets/css/styles.css">
</head>
<body>
  <header>
    <h1>Over the Rainbow</h1>
    <p class="tagline">Healing Agent Access</p>
    <nav>
      <a href="index.html">Home</a>
      <a href="tribute-wall.html">Tribute Wall</a>
      <a href="shop.html">Virtual Shop</a>
      <a href="donate.html">Donations</a>
      <a href="dedication.html">My Dogs</a>
      <a href="support.html">Support</a>
      <a href="signup.html">Healing Agent</a>
    </nav>
  </header>

  <main>
    <section class="page-section">
      <h2>Meet Your Healing Agent</h2>
      <p>
        Experience our modular healing agent — a compassionate AI guide for pet loss grief support.
        Try it below, then sign up for full access to personalized sessions and healing workflows.
      </p>

      <!-- Agent.ai Embed -->
      <div id="agent-embed" style="width: 100%; max-width: 800px; margin: 30px auto; border-radius: 12px; overflow: hidden; box-shadow: 0 4px 12px rgba(0,0,0,0.1); height: 600px; background: white;">
        <iframe 
          src="https://agent.ai/agent/modularhealingagent?apiKey=x9818qg581ivqrmi" 
          style="width: 100%; height: 100%; border: none;">
        </iframe>
      </div>

      <section class="page-section" style="margin-top: 40px;">
        <h2>Sign Up for Full Access</h2>
        <p>
          Create your account to save your healing journey, unlock personalized modules, 
          and continue your sessions anytime.
        </p>

      <form id="signup-form">
        <div>
          <label for="signupName">Name</label>
          <input type="text" id="signupName" required>
        </div>
        <div>
          <label for="signupEmail">Email</label>
          <input type="email" id="signupEmail" required>
        </div>
        <div>
          <label for="signupNotes">Anything you would like to share (optional)</label>
          <textarea id="signupNotes"></textarea>
        </div>
        <div>
          <label>
            <input type="checkbox" id="signupConsent" required>
            I consent to my information being stored for the purpose of receiving the healing agent experience.
          </label>
        </div>
        <input type="submit" value="Sign Up for Full Access">
        <p class="notice">
          Your information helps us personalize your healing journey. We never share your data.
        </p>
      </form>

      <p id="signup-message" class="notice"></p>
      </section>
    </section>
  </main>

  <footer>
    <p>&copy; <span id="year"></span> Over the Rainbow.</p>
  </footer>

  <script src="assets/js/main.js"></script>
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const form = document.getElementById("signup-form");
      const msg = document.getElementById("signup-message");

      form.addEventListener("submit", (e) => {
        e.preventDefault();

        if (!document.getElementById("signupConsent").checked) return;

        const name = document.getElementById("signupName").value.trim();
        const email = document.getElementById("signupEmail").value.trim();

        const existing = JSON.parse(localStorage.getItem("otr_signups") || "[]");
        existing.push({ name, email, createdAt: new Date().toISOString() });
        localStorage.setItem("otr_signups", JSON.stringify(existing));

        form.reset();
        msg.textContent = "✓ Welcome! Check your email for your personalized healing agent access. You can also start using it anytime you visit this page.";
        msg.style.color = "#22c55e";
        setTimeout(() => { msg.textContent = ""; }, 8000);
      });
    });
  </script>
</body>
</html>
